swagger: '2.0'

info:
  version: "0.0.1"
  title: BP API
  
basePath: /v1
produces:
  - application/json

paths:

################################################################################
#                                   Users                                      #
################################################################################ 

  /user:
    post:
      summary: User Creation.
      responses:
        "201":
          description:  User Created
            
  /user/{id}:
    get:
      summary: User Information
      description: |
        The User endpoint returns information about the user.
      parameters:
        - name: id
          in: path
          description: ID of User
          required: true
          type: string
          format: string
      tags:
        - User
      responses:
        "200":
          description: A User object
          schema:
            $ref: '#/definitions/User'
    put:
      summary: User Modification
      parameters:
      - name: id
        in: path
        description: ID of User
        required: true
        type: string
        format: string
      tags:
        - User
      responses:
        "200":
          description: User Updated
    delete:
      summary: User Modification
      parameters:
      - name: id
        in: path
        description: ID of User
        required: true
        type: string
        format: string
      tags:
        - User
      responses:
        "204":
          description: User Deletd

  /user/{id}/redeem:
    post:
      summary: Redemption For User
      parameters:
      - name: id
        in: path
        description: ID of User
        required: true
        type: string
        format: string
      - name: body
        in: body
        description: Request to process for redemption
        required: true
        schema: 
          $ref: '#/definitions/Redemption'
      responses:
        "201":
          description:  Redemption Successful

  /user/{id}/subscriptions:
    post:
      summary: Redemption For User
      parameters:
      - name: id
        in: path
        description: ID of User
        required: true
        type: string
        format: string
      - name: body
        in: body
        description: Request to process for redemption
        required: true
        schema: 
          $ref: '#/definitions/Redemption'
      responses:
        "201":
          description:  Redemption Successful

################################################################################
#                                 Location                                     #
################################################################################ 

  /location:
    post:
      summary: Item Creation.
      responses:
        "201":
          description:  Item Created

################################################################################
#                                   Items                                      #
################################################################################

  /item:
    post:
      summary: Item Creation.
      responses:
        "201":
          description:  Item Created

################################################################################
#                                    Plan                                      #
################################################################################ 

  /plan:
      post:
        summary: Plan Creation.
        responses:
          "201":
            description:  Plan Created

################################################################################
#                                 Redemptions                                  #
################################################################################
  
  /redemption:
      get:
        summary: New Redemption
        responses:
          "201":
            description: Redemption Successful

################################################################################
#                                  Promotions                                  #
################################################################################

  /promotion:
      post:
            summary: Promotion Creation.
            responses:
              "201":
                description:  Promotion Created
         
################################################################################
#                                 Definitions                                  #
################################################################################   
definitions:

  User:
    type: object
    properties:
      userId:
        type: string
      activeSubscriptions:
        type: array
        items:
          title: activeSubscriptions
          type: object
          properties:
            id:
              type: string

  Location:
    type: object
    properties:
      name:
        type: string
      address:
        type: string
      city: 
        type: string
      state:
        type: string
      zip: 
        type: string 

  Item:
    type: object
    properties:
      name: 
        type: string

  AddOn:
    type: object

  Plan:
    type: object
    properties:
      userId:
        type: string
      activeSubscriptions:
        type: array
        items:
          title: activeSubscriptions
          type: object
          properties:
            id:
              type: string

  Redemption:
    type: object
    properties:
      userId:
        type: string
      drinkId: 
        type: string
      addOns:
        type: array
        items:
          title: AddOn
          type: object
          properties:
            id:
              type: string
      startDate:
        type: string
        format: date-time
      endDate:
        type: string
        format: date-time
